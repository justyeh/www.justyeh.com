<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>中秋</title>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
		<meta name="format-detection" content="telephone=no,email=no,date=no,address=no" />
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<!--reset-->
		<link href="css/public.css" rel="stylesheet">
		<link href="css/index.css" rel="stylesheet">
		
		<!--css for swiper-->
		<link href="http://cdn.bootcss.com/Swiper/3.3.1/css/swiper.min.css" rel="stylesheet">
		<!--css for animation-->
		<link href="http://cdn.bootcss.com/animate.css/3.5.2/animate.css" rel="stylesheet">
		
		<script src="http://cdn.bootcss.com/zepto/1.2.0/zepto.min.js"></script>
		
		<!--core file for swiper-->
		<script src="http://cdn.bootcss.com/Swiper/3.3.1/js/swiper.jquery.min.js"></script>
		<script src="js/swiper.animate1.0.2.min.js"></script>
		<script src="js/imgLoader.js"></script>
	<body>
		<div id="loading">
			<div class="loading-ani">
				<div class="object"></div>
				<div class="object"></div>
				<div class="object"></div>
				<div class="object"></div>
				<div class="object"></div>
				<div class="object"></div>
				<div class="object"></div>
				<div class="object"></div>
				<div class="object"></div>
				<div class="object"></div>
			</div>
		</div>
		
		
		<div class="swiper-container">
		    <div class="swiper-wrapper">
		    	<!-------------slide1----------------->
		         <section class="swiper-slide swiper-slide1">
		        	<img src="img/txt-bg.png" class="ani resize" style="width:346px;height:245px;left:14.5px;top:158px;z-index:1;" swiper-animate-effect="zoomIn" swiper-animate-duration="1.5s" swiper-animate-delay="0s"  > 
		        	<img src="img/page1-img1.png" class="ani resize" style="height:117px;width:273px;left:51px;top:182px;z-index:2;" swiper-animate-effect="bounceInDown" swiper-animate-duration="1.0s" swiper-animate-delay="0.5s"  > 
		        	<img src="img/page1-img2.png" class="ani resize" style="width:187px;height:25px;left:94px;top:322px;z-index:3;" swiper-animate-effect="bounceInDown" swiper-animate-duration="1.0s" swiper-animate-delay="1.0s"  > 
		        	<div class="ani logo icon" swiper-animate-effect="rotateIn" swiper-animate-duration="0.5s" swiper-animate-delay="0s"  ></div> 
		        </section>
		        
		     	<!---------------slide2-------------->   
		       <section class="swiper-slide swiper-slide2">
		       		<img src="img/txt-bg.png" class="ani resize" style="width:346px;height:245px;left:14.5px;top:43px;z-index:1;" swiper-animate-effect="zoomIn" swiper-animate-duration="1.5s" swiper-animate-delay="0s"  > 
		        	<img src="img/page2-img1.png" class="ani resize" style="height:116px;width:241px;left:67px;top:72px;z-index:2;" swiper-animate-effect="bounceInDown" swiper-animate-duration="1.0s" swiper-animate-delay="0.5s"  > 
		        	<img src="img/page2-img2.png" class="ani resize" style="height:25px;width:185px;left:100px;top:208px;z-index:3;" swiper-animate-effect="bounceInDown" swiper-animate-duration="1.0s" swiper-animate-delay="1.0s"  > 
		        	<div class="ani logo icon" swiper-animate-effect="rotateIn" swiper-animate-duration="0.5s" swiper-animate-delay="0s"  ></div> 
		        </section>
		        
		     	<!----------------slide3-------------->
		        <section class="swiper-slide swiper-slide3">
		        	<img src="img/paper.png" class="ani resize" style="width:367px;height:416px;left:4px;top:191px;z-index:1; " swiper-animate-effect="fadeInUpBig" swiper-animate-duration="1.0s" swiper-animate-delay="0s"  > 
		        	<img src="img/pen.png" class="ani resize" style="width:204px;height:144px;left:171px;top:461px;z-index:1; " swiper-animate-effect="slideInRight" swiper-animate-duration="1.1s" swiper-animate-delay="0.4s"  > 
		        	<img src="img/page3-img1.png" class="ani resize" style="height:23px;width:275px;left:49px;top:307px;z-index:1; " swiper-animate-effect="rotateInUpLeft" swiper-animate-duration="0.5s" swiper-animate-delay="1.5s"  > 
		        	<img src="img/page3-img2.png" class="ani resize" style="height:23px;width:275px;left:49px;top:354px;z-index:1; " swiper-animate-effect="rotateInUpLeft" swiper-animate-duration="0.5s" swiper-animate-delay="2.0s"  > 
		        	<img src="img/page3-img3.png" class="ani resize" style="height:23px;width:275px;left:49px;top:401px;z-index:1; " swiper-animate-effect="rotateInUpLeft" swiper-animate-duration="0.5s" swiper-animate-delay="2.5s"  > 
		        	<img src="img/page3-img4.png" class="ani resize" style="height:16px;width:89px;left:242px;top:435px;z-index:1; " swiper-animate-effect="rotateInUpRight" swiper-animate-duration="0.5s" swiper-animate-delay="3.0s"  > 
		        </section>
		         
		         
		        <!----------------slide4-------------->
		        <section class="swiper-slide swiper-slide4">
		        	<img src="img/paper2.png" class="ani resize" style="width:367px;height:416px;left:4px;top:191px;z-index:1; " swiper-animate-effect="fadeInUpBig" swiper-animate-duration="1.0s" swiper-animate-delay="0s"  > 
		        	<img src="img/pen.png" class="ani resize" style="width:204px;height:144px;left:171px;top:461px;z-index:1; " swiper-animate-effect="slideInRight" swiper-animate-duration="1.1s" swiper-animate-delay="0.4s"  > 
		        	
		        	<img src="img/page4-img1.png" class="ani resize" style="height:23px;width:175px;left:49px;top:307px;z-index:1; " swiper-animate-effect="rotateInUpLeft" swiper-animate-duration="0.5s" swiper-animate-delay="1.5s"  > 
		        	<img src="img/page4-img2.png" class="ani resize" style="height:23px;width:175px;left:49px;top:354px;z-index:1; " swiper-animate-effect="rotateInUpLeft" swiper-animate-duration="0.5s" swiper-animate-delay="2.0s"  > 
		        	<img src="img/page4-img3.png" class="ani resize" style="height:24px;width:175px;left:49px;top:401px;z-index:1; " swiper-animate-effect="rotateInUpLeft" swiper-animate-duration="0.5s" swiper-animate-delay="2.5s"  > 
		        	<img src="img/page4-img4.png" class="ani resize" style="height:16px;width:83px;left:247px;top:435px;z-index:1; " swiper-animate-effect="rotateInUpRight" swiper-animate-duration="0.5s" swiper-animate-delay="3.0s"  > 	
		        </section>
		        
		        <!----------------slide5-------------->
		        <section class="swiper-slide swiper-slide5">
		        	<img src="img/paper3.png" class="ani resize" style="width:367px;height:416px;left:4px;top:191px;z-index:1; " swiper-animate-effect="fadeInUpBig" swiper-animate-duration="1.0s" swiper-animate-delay="0s"  > 
		        	<img src="img/pen.png" class="ani resize" style="width:204px;height:144px;left:171px;top:461px;z-index:1; " swiper-animate-effect="slideInRight" swiper-animate-duration="1.1s" swiper-animate-delay="0.4s"  > 
		        	
		        	<img src="img/page5-img1.png" class="ani resize" style="width:285px;height:23px;left:49px;top:310px;z-index:1; " swiper-animate-effect="rotateInUpLeft" swiper-animate-duration="0.5s" swiper-animate-delay="1.5s"  > 
		        	<img src="img/page5-img2.png" class="ani resize" style="width:285px;height:23px;left:49px;top:354px;z-index:1; " swiper-animate-effect="rotateInUpLeft" swiper-animate-duration="0.5s" swiper-animate-delay="2.0s"  > 
		        	<img src="img/page5-img3.png" class="ani resize" style="width:285px;height:23px;left:49px;top:399px;z-index:1; " swiper-animate-effect="rotateInUpLeft" swiper-animate-duration="0.5s" swiper-animate-delay="2.5s"  > 
		        	<img src="img/page5-img4.png" class="ani resize" style="width:79px;height:16px;left:253px;top:435px;z-index:1; " swiper-animate-effect="rotateInUpRight" swiper-animate-duration="0.5s" swiper-animate-delay="3.0s"  > 	
		        </section>
		        
		        <!----------------slide6-------------->
		        <section class="swiper-slide swiper-slide6">
		        	<img src="img/txt-bg.png" class="ani resize" style="width:346px;height:245px;left:14.5px;top:42px;z-index:1;" swiper-animate-effect="zoomIn" swiper-animate-duration="1.0s" swiper-animate-delay="0s"  > 
		        	<img src="img/page6-img1.png" class="ani resize" style="width:110px;height:60px;left:137.5px;top:31px;z-index:1; " swiper-animate-effect="flipInX" swiper-animate-duration="1.0s" swiper-animate-delay="0.5s"  > 
		        	<img src="img/page6-img2.png" class="ani resize" style="width:314px;height:82px;left:30.5px;top:95px;z-index:1; " swiper-animate-effect="bounceInRight" swiper-animate-duration="1.5s" swiper-animate-delay="1.3s"  > 
		        	<img src="img/page6-img3.png" class="ani resize" style="height:65px;width:216px;left:79px;top:180px;z-index:1; " swiper-animate-effect="bounceInLeft" swiper-animate-duration="1.5s" swiper-animate-delay="1.3s"  > 
		        	
		        	<div class="txt">
		        		<p class="ani p1" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="2.0s">活动步骤：</p>
		        		<p class="ani p2" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="2.2s">一、撰写三行家书</p>
		        		<p class="ani p2" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="2.4s">二、填写收信人、地址、邮编</p>
		        		<p class="ani p2" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="2.6s">三、预览确认</p>
		        		<p class="ani p2" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="2.8s">四、蓝桥软件学院免费寄送中秋贺卡</p>
		        		<p class="ani p3" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="3.0s">（限前200名参与人）</p>
		        		<p class="ani p4" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="3.2s">*活动最终解释权归蓝桥所有</p>
		        	</div>
		        	<a href="form.html" class="ani link" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.5s" swiper-animate-delay="3.4s"><span class="icon icon-write"></span>写家书</a>
		        </section>
		    </div>
		    <div class="music icon">
		    	<audio id="music" src="bgk-music.mp3" loop="loop"></audio>
		    </div>
		    
		</div>
		
		<script> 
		
			// 横屏监听 
			var updateOrientation = function(){     
				if(window.orientation=='-90' || window.orientation=='90'){ 
					alert('为了更好的体验，请将手机/平板竖过来！');     
				}
			};
			window.onorientationchange = updateOrientation;
		
			//375x603是设计稿的宽高
			scaleW=window.innerWidth/375;
			scaleH=window.innerHeight/603;
			var resizes = document.querySelectorAll('.resize');
	        for (var j=0; j<resizes.length; j++) {
	        	resizes[j].style.width=parseInt(resizes[j].style.width)*scaleW+'px';
			  	resizes[j].style.height=parseInt(resizes[j].style.height)*scaleH+'px';
			   	resizes[j].style.top=parseInt(resizes[j].style.top)*scaleH+'px';
			   	resizes[j].style.left=parseInt(resizes[j].style.left)*scaleW+'px'; 
	        }
					  
	   		
	   		/*loading*/
	   		var imgArray = [
	   			'img/page1-bg.jpg',
	   			'img/page2-bg.jpg',
	   			'img/page3-bg.jpg',
	   			'img/page4-bg.jpg',
	   			'img/page5-bg.jpg',
	   			'img/page6-bg.jpg',
	   			'img/txt-bg.png',
	   			'img/page1-img1.png',
	   			'img/page1-img2.png',
	   			'img/page2-img1.png',
	   			'img/page2-img2.png',
	   			'img/paper.png',
	   			'img/page3-img1.png',
	   			'img/page3-img2.png',
	   			'img/page3-img3.png',
	   			'img/page3-img4.png',
	   			'img/paper2.png',
	   			'img/page4-img1.png',
	   			'img/page4-img2.png',
	   			'img/page4-img3.png',
	   			'img/page4-img4.png',
	   			'img/paper3.png',
	   			'img/page5-img1.png',
	   			'img/page5-img2.png',
	   			'img/page5-img3.png',
	   			'img/page5-img4.png',
	   			'img/page6-img1.png',
	   			'img/page6-img2.png',
	   			'img/page6-img3.png',
	   		];
	   		imgLoader(imgArray, function (percentage) {
	            var percentT = percentage * 100;
	            console.log(percentT)
	            if (percentage == 1) {
	            	
	            	var mySwiper = new Swiper ('.swiper-container', {
			   			direction : 'vertical',
			 			//virtualTranslate : true,
			 			preloadImages: true,
			   			mousewheelControl : true,
			   			onInit: function(swiper){
				   			swiperAnimateCache(swiper);
				   			swiperAnimate(swiper);
					  	},
			   			onSlideChangeEnd: function(swiper){
							swiperAnimate(swiper);
			    		},
						onTransitionEnd: function(swiper){
							swiperAnimate(swiper);
			    		},
						watchSlidesProgress: true,
					    onProgress: function(swiper){
					        for (var i = 0; i < swiper.slides.length; i++){
					          var slide = swiper.slides[i];
					          var progress = slide.progress;
					          var translate = progress*swiper.height/4;  
							  scale = 1 - Math.min(Math.abs(progress * 0.5), 1);
					          var opacity = 1 - Math.min(Math.abs(progress/2),0.5);
					          slide.style.opacity = opacity;
							  es = slide.style;
							  es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = 'translate3d(0,'+translate+'px,-'+translate+'px) scaleY(' + scale + ')';
					        }
					    },
			   			onSetTransition: function(swiper, speed) {
					        for (var i = 0; i < swiper.slides.length; i++){
					          	es = swiper.slides[i].style;
							  	es.webkitTransitionDuration = es.MsTransitionDuration = es.msTransitionDuration = es.MozTransitionDuration = es.OTransitionDuration = es.transitionDuration = speed + 'ms';
					
					        }
		      			},
			   		});
			            	
	            	
	            	
            		document.getElementById('loading').remove();
            		document.getElementById('music').play();
	            }
	        });
  		</script>
	</body>
</html>
