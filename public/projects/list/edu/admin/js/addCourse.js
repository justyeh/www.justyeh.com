layui.use(["form","layer","upload"],function(){var b=layui.form(),c=layui.layer;b.render("select");isLeaveNeedConfirm.set(!0);b.verify({isFillInStore:function(a){if(0==a.length)return"\u8bf7\u586b\u5199\u8bb2\u5e08\uff08\u4f5c\u8005\uff09";var b=!1;$.ajax({url:"?c\x3dauthor\x26m\x3dgetname\x26name\x3d"+a,type:"get",dataType:"json",async:!1,success:function(a){200==a.code&&(b=!0)}});if(!b)return"\u8bf7\u4ece\u5217\u8868\u4e2d\u9009\u62e9\u8bb2\u5e08\uff08\u4f5c\u8005\uff09"}});var d=!1;b.on("submit(addCourseForm)",function(a){c.confirm("\u786e\u8ba4\u63d0\u4ea4\u5417\uff1f",{btn:["\u786e\u5b9a","\u53d6\u6d88"]},function(){d=!0;isLeaveNeedConfirm.set(!1);a.form.submit()});return d});b.on("select(subject)",function(a){courseLinkage($("#subject"),$("#chapter"),$("#section"),'\x3coption value\x3d""\x3e\u8bf7\u9009\u62e9\x3c/option\x3e')});b.on("select(chapter)",function(a){courseLinkage($("#chapter"),$("#section"),$("#section"),'\x3coption value\x3d""\x3e\u8bf7\u9009\u62e9\x3c/option\x3e')});yehAutoComplete({target:$("#autoCompleteInput"),url:"?c\x3dlesson\x26m\x3dauthor\x26name\x3d",selected:function(a){$("#author_id").val(a.find("span").text());$("#autoCompleteInput").val(a.find("b").text())}});$(document).click(function(a){$(a.target).is(".autocompleter i")&&(isLeaveNeedConfirm.set(!1),window.location.href="?c\x3dauthor\x26m\x3dsave")});$("#goList").click(function(){var a=$(this);c.confirm("\u8bfe\u7a0b\u7247\u6bb5\u5c1a\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u8981\u8fd4\u56de\u4e48\uff1f",{btn:["\u786e\u5b9a","\u53d6\u6d88"],yes:function(){isLeaveNeedConfirm.set(!1);console.log(a.data("href"));a.data("href")?window.location.href=a.data("href"):window.location.href="?c\x3dquestions\x26m\x3dlist"}})})});